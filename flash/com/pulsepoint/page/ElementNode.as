package com.pulsepoint.page {	import flash.external.ExternalInterface;	public class ElementNode {		private static var _instance:ElementNode = new ElementNode();		private var _uid:String = String(new Date().getTime());		public function ElementNode():void {			if (ExternalInterface.available) {				try {					ExternalInterface.addCallback("checkUID", checkUID);					ExternalInterface.call("function(){" +						"setTimeout(function(){"+							"window.ppa = window.ppa || {};" +							"window.ppa.videoPlayer = window.ppa.videoPlayer || {};" +							"window.ppa.extScripts = window.ppa.extScripts || {};" +							"window.ppa.extScripts['" + _uid + "'] = new Array;" +							"var nodes = document.getElementsByTagName('OBJECT');" +							"if (nodes && nodes.length > 0) {" +								"for (var i = 0; i < nodes.length; i++) {" +									"try {" +										"var matched = nodes[i].checkUID('" + _uid + "');" +										"if (matched) {" +												"window.ppa.videoPlayer['" + _uid + "'] = nodes[i];" +												"return;" +										"}" +									"} catch (e) {}" +								"}" +							"}" +							"nodes = document.getElementsByTagName('EMBED');" +							"if (nodes && nodes.length > 0) {" +								"for (var i = 0; i < nodes.length; i++) {" +									"try {" +										"var matched = nodes[i].checkUID('" + _uid + "');" +										"if (matched) {" +												"window.ppa.videoPlayer['" + _uid + "'] = nodes[i];" +												"return;" +										"}" +									"} catch (e) {}" +								"}" +							"}" +						"},0);" +					"}");				} catch (e:Error) {				}			}		}		private function checkUID(uid:String):Boolean{			return (uid === _uid);		}		public function get uid():String{        return _uid;    }		public function get videoPlayer():String{        return "window.ppa.videoPlayer['" + _uid + "']";    }		public static function getInstance():ElementNode{        return _instance;    }	}}